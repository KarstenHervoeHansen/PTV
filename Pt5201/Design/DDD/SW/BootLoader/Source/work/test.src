; XA C compiler v2.0 r2                   SN00085795-Ccz (c) 1998 TASKING, Inc.
; options: -IC:\cxa\include -Ml -Cxag3 -Sd -A1 -O1 -DWritableSector=14
;          -DBootProgram=0 -g
$CASE
$NOZPAGE
	NAME	TEST
	SYMB	TOOL, "XA C compiler v2.0", 1
	SYMB	TYPE, 256, "bit", 'g', 0, 1
	SYMB	FILE, "test.c"
	SYMB	FILE, "C:\\cxa\\include\\stdlib.h"
	SYMB	FILE, "C:\\cxa\\include\\limits.h"
	SYMB	ENDF
	SYMB	TYPE, 257, 'S', 4,\
		 "quot", #16, 0,\
		 "rem", #16, 2
	SYMB	TYPE, 258, "div_t", 'T', #257
	SYMB	TYPE, 259, 'S', 8,\
		 "quot", #6, 0,\
		 "rem", #6, 4
	SYMB	TYPE, 260, "ldiv_t", 'T', #259
	SYMB	TYPE, 261, "size_t", 'T', #18
	SYMB	TYPE, 262, "wchar_t", 'T', #5
	SYMB	ENDF
	SYMB	FILE, "system.h"
	SYMB	ENDF
	SYMB	FILE, "main.h"
	SYMB	TYPE, 263, "byte", 'T', #3
	SYMB	ENDF
	SYMB	FILE, "test.h"
	SYMB	ENDF
	SYMB	FILE, "iic.h"
	SYMB	ENDF
	SYMB	FILE, "xaexprt.h"
	SYMB	ENDF
	SYMB	FILE, "xadrivr.h"
	SYMB	ENDF
TEST_PR	SEGMENT	HCODE
	RSEG	TEST_PR
	ALIGN	1
	SYMB	LINE, 41
	SYMB	TYPE, 264, "dword", 'T', #7
	SYMB	TYPE, 265, "word", 'T', #5
	PUBLIC	_user_memory_test
_user_memory_test:
	SYMB	TYPE, 266, 'X', 12, #263, 30, 0
	SYMB	GFUN, "user_memory_test", _user_memory_test, #266, 0, 0, 112
	SYMB	ALAB, _user_memory_test, #266
	PUSH.W	R4, R5, R6
	SYMB	SOFF, 6
	SUB.W	R7,#010H
	SYMB	SOFF, 22
	SYMB	IDEN, "i", -1, #264, 130, 5
	SYMB	LTIM, "i", -1, 0, 69
	SYMB	IDEN, "j", -1, #264, 130, 5
	SYMB	LTIM, "j", -1, 0, 69
	SYMB	IDEN, "error", -1, #263, 130, 5
	SYMB	LTIM, "error", -1, 0, 69
	SYMB	LINE, 46
	MOV.B	R6L,#00H
	SYMB	LTIM, "error", 24, 0, 205
	SYMB	TYPE, 267, 'n', #265, 130
	SYMB	TYPE, 268, 'P', #267
	SYMB	IDEN, "ptr", -10, #268, 130, 5
	SYMB	LINE, 50
	MOV.W	R1,#00H
	MOV.W	R0,#00H
	SYMB	LINE, 51
	MOV.W	[R7+6],#00H
	MOV.W	[R7+4],#0500H
	SYMB	LINE, 53
	MOV.W	[R7+14],#00H
	MOV.W	[R7+12],#0500H
	SYMB	LINE, 56
_3:
	MOV.W	R3,#00H
	MOV.W	R2,#09H
	MOV.W	[R7+10],R1
	MOV.W	[R7+8],R0
	FCALL	__MULL
_4:
	SYMB	LINE, 57
	CLR	0337H
	SYMB	LINE, 59
	MOV.W	R3,#00H
	MOV.W	R2,#0FFFFH
	SUB.W	R2,[R7+4]
	SUBB.W	R3,[R7+6]
	SUB.W	R2,R0
	SUBB.W	R3,R1
	MOV.W	R5,R3
	MOV.W	R4,R2
	MOV.W	[R7+2],R5
	MOV.W	[R7],R4
	MOV.W	R3,[R7+14]
	MOV.W	R2,[R7+12]
	MOV.B	ES,R3L
	MOV.W	[R2],R4
	SYMB	LINE, 61
	MOV.W	R3,[R7+14]
	MOV.W	R2,[R7+12]
	ADD.W	[R7+12],#02H
	ADDC.W	[R7+14],#00H
	MOV.B	ES,R3L
	MOV.W	R2,[R2]
	MOVS.W	R3,#00H
	MOV.W	R5,[R7+2]
	MOV.W	R4,[R7]
	CMP.W	R3,R5
	BNE	_14
	CMP.W	R2,R4
_14:
	BEQ	_5
	SYMB	LINE, 62
	MOV.B	R6L,#01H
	SYMB	LTIM, "error", 24, 0, 77
	SYMB	LTIM, "error", 24, 0, 205
_5:
	SYMB	LINE, 64
	SETB	0337H
	SYMB	LINE, 66
	MOV.W	R3,[R7+6]
	MOV.W	R2,[R7+4]
	ADD.W	R2,#01H
	ADDC.W	R3,#00H
	MOV.W	[R7+6],R3
	MOV.W	[R7+4],R2
	CMP.W	R3,#00H
	BNE	_15
	CMP.W	R2,#08000H
_15:
	BCC	_6
	OR.B	R6L,R6L
	BEQ	_4
_6:
	SYMB	LINE, 68
	MOV.W	[R7+6],#00H
	MOV.W	[R7+4],#00H
	SYMB	LINE, 70
	MOV.W	R1,[R7+10]
	MOV.W	R0,[R7+8]
	ADD.W	R0,#01H
	ADDC.W	R1,#00H
	CMP.W	R1,#00H
	BNE	_16
	CMP.W	R0,#04H
_16:
	BCC	_7
	OR.B	R6L,R6L
	BEQ	_3
	SYMB	LINE, 73
_7:
_8:
	SYMB	LINE, 74
	MOV.W	R1,#00H
	MOV.W	R0,#00H
	SYMB	LINE, 75
	MOV.W	[R7+6],#00H
	MOV.W	[R7+4],#0500H
	SYMB	LINE, 77
	MOV.W	[R7+14],#00H
	MOV.W	[R7+12],#0500H
	SYMB	LINE, 80
_9:
	MOV.W	[R7+10],R1
	MOV.W	[R7+8],R0
	MOV.W	R3,#00H
	MOV.W	R2,#09H
	FCALL	__MULL
_10:
	SYMB	LINE, 81
	CLR	0337H
	SYMB	LINE, 83
	MOV.W	R3,[R7+14]
	MOV.W	R2,[R7+12]
	ADD.W	[R7+12],#02H
	ADDC.W	[R7+14],#00H
	MOV.B	ES,R3L
	MOV.W	R2,[R2]
	MOVS.W	R3,#00H
	MOV.W	[R7+2],R3
	MOV.W	[R7],R2
	MOV.W	R3,#00H
	MOV.W	R2,#0FFFFH
	SUB.W	R2,[R7+4]
	SUBB.W	R3,[R7+6]
	SUB.W	R2,R0
	SUBB.W	R3,R1
	MOV.W	R5,[R7+2]
	MOV.W	R4,[R7]
	CMP.W	R5,R3
	BNE	_17
	CMP.W	R4,R2
_17:
	BEQ	_11
	SYMB	LINE, 84
	MOV.B	R6L,#01H
	SYMB	LTIM, "error", 24, 0, 77
	SYMB	LTIM, "error", 24, 0, 205
_11:
	SYMB	LINE, 86
	SETB	0337H
	SYMB	LINE, 88
	MOV.W	R3,[R7+6]
	MOV.W	R2,[R7+4]
	ADD.W	R2,#01H
	ADDC.W	R3,#00H
	MOV.W	[R7+6],R3
	MOV.W	[R7+4],R2
	CMP.W	R3,#00H
	BNE	_18
	CMP.W	R2,#08000H
_18:
	BCC	_12
	OR.B	R6L,R6L
	BEQ	_10
_12:
	SYMB	LINE, 90
	MOV.W	[R7+6],#00H
	MOV.W	[R7+4],#00H
	SYMB	LINE, 92
	MOV.W	R1,[R7+10]
	MOV.W	R0,[R7+8]
	ADD.W	R0,#01H
	ADDC.W	R1,#00H
	CMP.W	R1,#00H
	BNE	_19
	CMP.W	R0,#04H
_19:
	BCC	_13
	OR.B	R6L,R6L
	BEQ	_9
_13:
	SYMB	LINE, 94
	MOV.B	R0L,#02AH
	CALL	_Udr_PutChar
	SYMB	LINE, 96
	OR.B	R6L,R6L
	BEQ	_8
	SYMB	LINE, 127
	MOV.B	R0L,R6L
	SYMB	LTIM, "error", 24, 0, 77
	SYMB	LTIM, "error", 0, 0, 205
	SYMB	LINE, 128
	ADD.W	R7,#010H
	SYMB	SOFF, 6
	POP.W	R4, R5, R6
	SYMB	SOFF, 0
	RET
	SYMB	LTIM, "error", 0, 0, 77
	SYMB	EFUN
	ALIGN	1
	SYMB	LINE, 141
	PUBLIC	_NVRAM_memory_test
_NVRAM_memory_test:
	SYMB	TYPE, 269, 'X', 12, #263, 30, 0
	SYMB	GFUN, "NVRAM_memory_test", _NVRAM_memory_test, #269, 0, 0, 48
	SYMB	ALAB, _NVRAM_memory_test, #269
	PUSH.W	R4, R5
	SYMB	SOFF, 4
	ADDS.W	R7,#0CH
	SYMB	SOFF, 8
	SYMB	IDEN, "i", -1, #264, 130, 5
	SYMB	LTIM, "i", -1, 0, 69
	SYMB	IDEN, "tmp", -1, #265, 130, 5
	SYMB	LTIM, "tmp", -1, 0, 69
	SYMB	IDEN, "error", -1, #263, 130, 5
	SYMB	LTIM, "error", -1, 0, 69
	SYMB	LINE, 145
	MOV.B	R0L,#00H
	SYMB	LTIM, "error", 0, 0, 205
	SYMB	IDEN, "ptr", -8, #268, 130, 5
	SYMB	LINE, 148
	MOV.W	R3,#00H
	MOV.W	R2,#00H
	SYMB	LINE, 150
	MOV.W	[R7+2],#08H
	MOV.W	[R7],#00H
	SYMB	LINE, 152
_20:
	SYMB	LINE, 153
	CLR	0337H
	SYMB	LINE, 155
	MOV.W	R5,[R7+2]
	MOV.W	R4,[R7]
	MOV.B	ES,R5L
	MOV.W	R1,[R4]
	SYMB	LTIM, "tmp", 6, 0, 205
	SYMB	LINE, 157
	MOV.W	R5,[R7+2]
	MOV.W	R4,[R7]
	MOV.B	ES,R5L
	MOV.W	[R4],#055H
	SYMB	LINE, 158
	MOV.W	R5,[R7+2]
	MOV.W	R4,[R7]
	MOV.B	ES,R5L
	MOV.W	R4,[R4]
	AND.W	R4,#0FFH
	CMP.W	R4,#055H
	BEQ	_21
	SYMB	LINE, 159
	MOV.B	R0L,#01H
	SYMB	LTIM, "error", 0, 0, 77
	SYMB	LTIM, "error", 0, 0, 205
	BR	_23
_21:
	SYMB	LINE, 161
	MOV.W	R5,[R7+2]
	MOV.W	R4,[R7]
	MOV.B	ES,R5L
	MOV.W	[R4],#0AAH
	SYMB	LINE, 162
	MOV.W	R5,[R7+2]
	MOV.W	R4,[R7]
	MOV.B	ES,R5L
	MOV.W	R4,[R4]
	AND.W	R4,#0AAH
	CMP.W	R4,#0AAH
	BEQ	_23
	SYMB	LINE, 163
	MOV.B	R0L,#02H
	SYMB	LTIM, "error", 0, 0, 77
	SYMB	LTIM, "error", 0, 0, 205
	SYMB	LINE, 164
_23:
	SYMB	LINE, 165
	MOV.W	R5,[R7+2]
	MOV.W	R4,[R7]
	MOV.B	ES,R5L
	MOV.W	[R4],R1
	ADD.W	[R7],#02H
	ADDC.W	[R7+2],#00H
	SYMB	LINE, 167
	SETB	0337H
	SYMB	LINE, 169
	ADD.W	R2,#01H
	ADDC.W	R3,#00H
	CMP.W	R3,#00H
	BNE	_27
	CMP.W	R2,#04000H
_27:
	BCC	_24
	OR.B	R0L,R0L
	BEQ	_20
_24:
	SYMB	LINE, 173
	ADDS.W	R7,#04H
	SYMB	SOFF, 4
	POP.W	R4, R5
	SYMB	SOFF, 0
	RET
	SYMB	LTIM, "error", 0, 0, 77
	SYMB	LTIM, "tmp", 6, 0, 77
	SYMB	EFUN
	SYMB	ENDF

	EXTRN	HCODE(__MULL)
	SYMB	TYPE, 270, 'X', 12, #1, 30, 1, #2
	SYMB	ALAB, _Udr_PutChar, #270
	EXTRN	HCODE(_Udr_PutChar)
	EXTRN	DATA(__lc_ub_xvwbuffer)
	EXTRN	DATA(__lc_ue_xvwbuffer)
	CALLS	'user_memory_test', 'Udr_PutChar'
	END

XA assembler v2.0 r2                    SN00085795-037 (c) 1998 TASKING, Inc.
                                                                                                                            Page   1
U:\Pt5201\Design\DDD\SW\Master\Source\MAKE\2_1\temp\xa\tvp6kdrv.src
ADDR   CODE            LINE SOURCELINE
                          1 ; XA C compiler v2.0 r2                   SN00085795-Ccz (c) 1998 TASKING, Inc.
                          2 ; options: -A1 -Cxag3 -e -g -Ic:\cxa\include -I..\..\rtxcdef\xa
                          3 ;          -I..\..\rtxc\xa\include -I..\..\code\include\1_0 -I..\..\app_spec\xa
                          4 ;          -Ml -O2 -s
                          6 $NOZPAGE
                          7         NAME    TVP6KDRV
                         11 ; tvp6kdrv.c    1       /************************************************************************
                            ****/
                         12 ; tvp6kdrv.c    2       /* MODULE:                                                               
                               */
                         13 ; tvp6kdrv.c    3       /*  tvp6kdrv.c - TI TVP600+ Multimedie chip driver                       
                               */
                         14 ; tvp6kdrv.c    4       /************************************************************************
                            ****/
                         15 ; tvp6kdrv.c    5       /* FUNCTIONS:                                                            
                               */
                         16 ; tvp6kdrv.c    6       /*                                                                       
                               */
                         17 ; tvp6kdrv.c    7       /*  int pld_Init( void);                                                 
                                            */
                         18 ; tvp6kdrv.c    8       /*                                                                       
                               */
                         19 ; tvp6kdrv.c    9       /* TASKS:                                                                
                               */
                         20 ; tvp6kdrv.c   10       /*                                                                       
                               */
                         21 ; tvp6kdrv.c   11       /* NOTES:                                                                
                               */
                         22 ; tvp6kdrv.c   12       /*                                                                       
                               */
                         23 ; tvp6kdrv.c   13       /************************************************************************
                            ****/
                         24 ; tvp6kdrv.c   14       /*
                         25 ; tvp6kdrv.c   15        *   PTV software for PT5201    
                         26 ; tvp6kdrv.c   16        *   Copyright (c) 
                         27 ; tvp6kdrv.c   17        *   ProTeleVision Technologies A/S.
                         28 ; tvp6kdrv.c   18        *   ALL RIGHTS RESERVED
                         29 ; tvp6kdrv.c   19       */
                         30 ; tvp6kdrv.c   20       /************************************************************************
                            ****/
                         31 ; tvp6kdrv.c   21       
                         32 ; tvp6kdrv.c   22       #include "define.h"
                         35 ; tvp6kdrv.c   23       #include "tables.h"
                         38 ; tvp6kdrv.c   24       #include "tvp6kdrv.h"
                         41 ; tvp6kdrv.c   25       #include "i2c_drv.h"
                         44 ; tvp6kdrv.c   26       
                         45 ; tvp6kdrv.c   27       
                         46 ; tvp6kdrv.c   28       /************************************************************************
                            **/
                         47 ; tvp6kdrv.c   29       /* tvp6k_init                                                            
                                                                                                                             
                                                                     TVP6KDRV.C     */
                         48 ; tvp6kdrv.c   30       /*                                                                       
                                                                                                                             
                                                                                                                             
                                                    */
                         49 ; tvp6kdrv.c   31       /* Author:       Kim Engedahl, DEV, 000401                               
                                                                                                                             
                                            */
                         50 ; tvp6kdrv.c   32       /* Revised:      000401, KEn, DEV                                        
                                                                                                                             
                                                    */
                         51 ; tvp6kdrv.c   33       /*                                                                       
XA assembler v2.0 r2                    SN00085795-037 (c) 1998 TASKING, Inc.
                                                                                                                            Page   2

ADDR   CODE            LINE SOURCELINE
                                                                                                                             
                                                                                                                             
                                                    */
                         52 ; tvp6kdrv.c   34       /* Function:                                                             
                                                                                                                             
                                                                                                            */
                         53 ; tvp6kdrv.c   35       /* Remarks:                                                              
                                                                                                                             
                                                                                                                            *
                            /
                         54 ; tvp6kdrv.c   36       /* Returns:                                                              
                                                                                                                             
                                                                                                                            *
                            /
                         55 ; tvp6kdrv.c   37       /* Updates:                                                              
                                                                                                                             
                                                                                                                            *
                            /
                         56 ; tvp6kdrv.c   38       /************************************************************************
                            **/
                         57 ; tvp6kdrv.c   39       int tvp6k_init( void)
                         58 ; tvp6kdrv.c   40       {
000000                   59 TVP6KDRV_PR     SEGMENT HCODE
000000                   60         RSEG    TVP6KDRV_PR
                         61         ALIGN   1
                         63         PUBLIC  _tvp6k_init
000000                   64 _tvp6k_init:
                         68 ; tvp6kdrv.c   41               return( tvp6k_system( PAL));
000000 B900              70         MOV.W   R0,#00H
000002 C50002            71         CALL    _tvp6k_system
                         72 ; tvp6kdrv.c   42       }
000005 D680              74         RET
                         76 ; tvp6kdrv.c   43       
                         77 ; tvp6kdrv.c   44       /************************************************************************
                            **/
                         78 ; tvp6kdrv.c   45       /* tvp6k_system                                                          
                                                                                                                             
                                                             TVP6KDRV.C     */
                         79 ; tvp6kdrv.c   46       /*                                                                       
                                                                                                                             
                                                                                                                             
                                                    */
                         80 ; tvp6kdrv.c   47       /* Author:       Kim Engedahl, DEV, 000401                               
                                                                                                                             
                                            */
                         81 ; tvp6kdrv.c   48       /* Revised:      000705, KEn, DEV                                        
                                                                                                                             
                                                    */
                         82 ; tvp6kdrv.c   49       /*                                                                       
                                                                                                                             
                                                                                                                             
                                                    */
                         83 ; tvp6kdrv.c   50       /* Function:                                                             
                                                                                                                             
                                                                                                            */
                         84 ; tvp6kdrv.c   51       /* Remarks:                                                              
                                                                                                                             
                                                                                                                            *
                            /
                         85 ; tvp6kdrv.c   52       /* Returns:                                                              
                                                                                                                             
                                                                                                                            *
                            /
XA assembler v2.0 r2                    SN00085795-037 (c) 1998 TASKING, Inc.
                                                                                                                            Page   3

ADDR   CODE            LINE SOURCELINE
                         86 ; tvp6kdrv.c   53       /* Updates:                                                              
                                                                                                                             
                                                                                                                            *
                            /
                         87 ; tvp6kdrv.c   54       /************************************************************************
                            **/
                         88 ; tvp6kdrv.c   55       int tvp6k_system( int system)
                         89 ; tvp6kdrv.c   56       {
000007 00                90         ALIGN   1
                         92         PUBLIC  _tvp6k_system
000008                   93 _tvp6k_system:
000008 0F30              97         PUSH.W  R4, R5
00000A 99720010          99         SUB.W   R7,#010H
                        105 ; tvp6kdrv.c   57               UC buffer[15];
                        106 ; tvp6kdrv.c   58       
                        107 ; tvp6kdrv.c   59               if ( system < NTSC)
00000E 99040002         109         CMP.W   R0,#02H
                        110         BGE     _3
000012 FB02            +110 ;       BLT     _LG_0
000014 D5009C          +110 ;       JMP.L   _3
000014 D5009C00        +110 ;       JMP.L   _3
000018                 +110 _LG_0:
                        111 ; tvp6kdrv.c   60               {
                        112 ; tvp6kdrv.c   61                       buffer[0] = 0x3A;
000018 92783A           114         MOV.B   [R7],#03AH
                        115 ; tvp6kdrv.c   62                       buffer[1] = 0x8F;
00001B 9478018F         117         MOV.B   [R7+1],#08FH
                        118 ; tvp6kdrv.c   63                       TransmitIIC( TVP6K_IIC_address, 2, buffer, IIC_PTV);
00001F 91A8rr           120         MOV.B   R5L,#SEG( __lc_bs )
000022 71BB             121         XOR.B   R5H,R5H
000024 8947             122         MOV.W   R4,R7
000026 912800           123         MOV.B   R1L,#00H
000029 8935             124         MOV.W   R3,R5
00002B 8924             125         MOV.W   R2,R4
00002D 911802           126         MOV.B   R0H,#02H
000030 910840           128         MOV.B   R0L,#040H
                        129         CALL    _TransmitIIC
000033 C4rrrrrr        +129 ;       FCALL   _TransmitIIC
                        130 ; tvp6kdrv.c   64       
                        131 ; tvp6kdrv.c   65                       buffer[0] = 0x5A;
000037 92785A           133         MOV.B   [R7],#05AH
                        134 ; tvp6kdrv.c   66                       buffer[1] = 0x00;
00003A B47001           136         MOV.B   [R7+1],#00H
                        137 ; tvp6kdrv.c   67                       buffer[2] = 0x30;               //was 0x10, 0x32
00003D 94780230         139         MOV.B   [R7+2],#030H
                        140 ; tvp6kdrv.c   68                       buffer[3] = 0x96;               //was 0x80, 0xAC
000041 94780396         142         MOV.B   [R7+3],#096H
                        143 ; tvp6kdrv.c   69                       buffer[4] = 0xB3;
000045 947804B3         145         MOV.B   [R7+4],#0B3H
                        146 ; tvp6kdrv.c   70                       buffer[5] = 0xBE;
000049 947805BE         148         MOV.B   [R7+5],#0BEH
                        149 ; tvp6kdrv.c   71                       buffer[6] = 0x3F;
00004D 9478063F         151         MOV.B   [R7+6],#03FH
                        152 ; tvp6kdrv.c   72                       buffer[7] = 0x20;
000051 94780720         154         MOV.B   [R7+7],#020H
                        155 ; tvp6kdrv.c   73                       buffer[8] = 0x42;
000055 94780842         157         MOV.B   [R7+8],#042H
                        158 ; tvp6kdrv.c   74                       buffer[9] = 0x3E;               // was 0x41
000059 9478093E         160         MOV.B   [R7+9],#03EH
                        161 ; tvp6kdrv.c   75                       buffer[10] = 0xCB;
00005D 94780ACB         163         MOV.B   [R7+10],#0CBH
                        164 ; tvp6kdrv.c   76                       buffer[11] = 0x8A;
XA assembler v2.0 r2                    SN00085795-037 (c) 1998 TASKING, Inc.
                                                                                                                            Page   4

ADDR   CODE            LINE SOURCELINE
000061 94780B8A         166         MOV.B   [R7+11],#08AH
                        167 ; tvp6kdrv.c   77                       buffer[12] = 0x09;
000065 94780C09         169         MOV.B   [R7+12],#09H
                        170 ; tvp6kdrv.c   78                       buffer[13] = 0x2A;
000069 94780D2A         172         MOV.B   [R7+13],#02AH
                        173 ; tvp6kdrv.c   79                       TransmitIIC( TVP6K_IIC_address, 14, buffer, IIC_PTV);
00006D 912800           175         MOV.B   R1L,#00H
000070 8935             176         MOV.W   R3,R5
000072 8924             177         MOV.W   R2,R4
000074 91180E           178         MOV.B   R0H,#0EH
000077 910840           179         MOV.B   R0L,#040H
                        180         CALL    _TransmitIIC
00007A C4rrrrrr        +180 ;       FCALL   _TransmitIIC
                        181 ; tvp6kdrv.c   80       
                        182 ; tvp6kdrv.c   81                       buffer[0] = 0x67;
00007E 927867           184         MOV.B   [R7],#067H
                        185 ; tvp6kdrv.c   82                       buffer[1] = 0x00;
000081 B47001           187         MOV.B   [R7+1],#00H
                        188 ; tvp6kdrv.c   83                       buffer[2] = 0x00;
000084 B47002           190         MOV.B   [R7+2],#00H
                        191 ; tvp6kdrv.c   84                       buffer[3] = 0x00;
000087 B47003           193         MOV.B   [R7+3],#00H
                        194 ; tvp6kdrv.c   85                       buffer[4] = 0x00;
00008A B47004           196         MOV.B   [R7+4],#00H
                        197 ; tvp6kdrv.c   86                       buffer[5] = 0x11;
00008D 94780511         199         MOV.B   [R7+5],#011H
                        200 ; tvp6kdrv.c   87                       buffer[6] = 0xA0;
000091 947806A0         202         MOV.B   [R7+6],#0A0H
                        203 ; tvp6kdrv.c   88                       buffer[7] = 0x00;
000095 B47007           205         MOV.B   [R7+7],#00H
                        206 ; tvp6kdrv.c   89                       buffer[8] = 0x0A;
000098 9478080A         208         MOV.B   [R7+8],#0AH
                        209 ; tvp6kdrv.c   90                       buffer[9] = 0x01;
00009C B47109           211         MOV.B   [R7+9],#01H
                        212 ; tvp6kdrv.c   91                       buffer[10] = 0x80;
00009F 94780A80         214         MOV.B   [R7+10],#080H
                        215 ; tvp6kdrv.c   92                       buffer[11] = 0x8C;
0000A3 94780B8C         217         MOV.B   [R7+11],#08CH
                        218 ; tvp6kdrv.c   93                       buffer[12] = 0x4C;
0000A7 94780C4C         220         MOV.B   [R7+12],#04CH
                        221 ; tvp6kdrv.c   94                       buffer[13] = 0x30;
0000AB 94780D30         223         MOV.B   [R7+13],#030H
0000AF 912800           224         MOV.B   R1L,#00H
0000B2 8935             225         MOV.W   R3,R5
0000B4 8924             226         MOV.W   R2,R4
0000B6 910840           227         MOV.B   R0L,#040H
                        228 ; tvp6kdrv.c   95       
                        229 ; tvp6kdrv.c   96                       TransmitIIC( TVP6K_IIC_address, 14, buffer, IIC_PTV);
0000B9 91180E           231         MOV.B   R0H,#0EH
                        232         CALL    _TransmitIIC
0000BC C4rrrrrr        +232 ;       FCALL   _TransmitIIC
                        233 ; tvp6kdrv.c   97       
                        234 ; tvp6kdrv.c   98                       buffer[0] = 0x77;
0000C0 927877           236         MOV.B   [R7],#077H
                        237 ; tvp6kdrv.c   99                       buffer[1] = 0x8C;
0000C3 9478018C         239         MOV.B   [R7+1],#08CH
                        240 ; tvp6kdrv.c  100                       buffer[2] = 0x4C;
0000C7 9478024C         242         MOV.B   [R7+2],#04CH
                        243 ; tvp6kdrv.c  101                       buffer[3] = 0x30;
0000CB 94780330         245         MOV.B   [R7+3],#030H
                        246 ; tvp6kdrv.c  102                       buffer[4] = 0x70;
0000CF 94780470         248         MOV.B   [R7+4],#070H
XA assembler v2.0 r2                    SN00085795-037 (c) 1998 TASKING, Inc.
                                                                                                                            Page   5

ADDR   CODE            LINE SOURCELINE
                        249 ; tvp6kdrv.c  103                       buffer[5] = 0x16;
0000D3 94780516         251         MOV.B   [R7+5],#016H
                        252 ; tvp6kdrv.c  104                       buffer[6] = 0x35;
0000D7 94780635         254         MOV.B   [R7+6],#035H
                        255 ; tvp6kdrv.c  105                       buffer[7] = 0x22;
0000DB 94780722         257         MOV.B   [R7+7],#022H
                        258 ; tvp6kdrv.c  106                       buffer[8] = 0x0A;
0000DF 9478080A         260         MOV.B   [R7+8],#0AH
0000E3 912800           261         MOV.B   R1L,#00H
0000E6 8935             262         MOV.W   R3,R5
0000E8 8924             263         MOV.W   R2,R4
0000EA 910840           264         MOV.B   R0L,#040H
                        265 ; tvp6kdrv.c  107                       TransmitIIC( TVP6K_IIC_address, 9, buffer, IIC_PTV);
0000ED 911809           267         MOV.B   R0H,#09H
                        268         CALL    _TransmitIIC
0000F0 C4rrrrrr        +268 ;       FCALL   _TransmitIIC
                        269 ; tvp6kdrv.c  108       
                        270 ; tvp6kdrv.c  109                       buffer[0] = 0x90;
0000F4 927890           272         MOV.B   [R7],#090H
                        273 ; tvp6kdrv.c  110                       buffer[1] = 0x00;
0000F7 B47001           275         MOV.B   [R7+1],#00H
                        276 ; tvp6kdrv.c  111                       buffer[2] = 0x00;
0000FA B47002           278         MOV.B   [R7+2],#00H
                        279 ; tvp6kdrv.c  112                       buffer[3] = 0x00;
0000FD B47003           281         MOV.B   [R7+3],#00H
                        282 ; tvp6kdrv.c  113                       buffer[4] = 0x00;
000100 B47004           284         MOV.B   [R7+4],#00H
                        285 ; tvp6kdrv.c  114                       buffer[5] = 0x00;
000103 B47005           287         MOV.B   [R7+5],#00H
                        288 ; tvp6kdrv.c  115                       buffer[6] = 0x00;
000106 B47006           290         MOV.B   [R7+6],#00H
                        291 ; tvp6kdrv.c  116                       buffer[7] = 0x00;
000109 B47007           293         MOV.B   [R7+7],#00H
                        294 ; tvp6kdrv.c  117                       buffer[8] = 0x00;
00010C B47008           296         MOV.B   [R7+8],#00H
                        297 ; tvp6kdrv.c  118                       buffer[9] = 0x00;
00010F B47009           299         MOV.B   [R7+9],#00H
                        300 ; tvp6kdrv.c  119                       buffer[10] = 0x00;
000112 B4700A           302         MOV.B   [R7+10],#00H
                        303 ; tvp6kdrv.c  120                       buffer[11] = 0x00;
000115 B4700B           305         MOV.B   [R7+11],#00H
                        306 ; tvp6kdrv.c  121                       buffer[12] = 0x00;
000118 B4700C           308         MOV.B   [R7+12],#00H
                        309 ; tvp6kdrv.c  122                       buffer[13] = 0x00;
00011B B4700D           311         MOV.B   [R7+13],#00H
                        312 ; tvp6kdrv.c  123                       buffer[14] = 0x00;
00011E B4700E           314         MOV.B   [R7+14],#00H
                        315 ; tvp6kdrv.c  124       
                        316 ; tvp6kdrv.c  125                       TransmitIIC( TVP6K_IIC_address, 15, buffer, IIC_PTV);
000121 912800           318         MOV.B   R1L,#00H
000124 8935             319         MOV.W   R3,R5
000126 8924             320         MOV.W   R2,R4
000128 91180F           321         MOV.B   R0H,#0FH
00012B 910840           322         MOV.B   R0L,#040H
                        323         CALL    _TransmitIIC
00012E C4rrrrrr        +323 ;       FCALL   _TransmitIIC
                        324 ; tvp6kdrv.c  126       
                        325 ; tvp6kdrv.c  127                       buffer[0] = 0x3A;
000132 92783A           327         MOV.B   [R7],#03AH
                        328 ; tvp6kdrv.c  128                       buffer[1] = 0x0F;
000135 9478010F         330         MOV.B   [R7+1],#0FH
                        331 ; tvp6kdrv.c  129                       TransmitIIC( TVP6K_IIC_address, 2, buffer, IIC_PTV);
XA assembler v2.0 r2                    SN00085795-037 (c) 1998 TASKING, Inc.
                                                                                                                            Page   6

ADDR   CODE            LINE SOURCELINE
000139 911802           333         MOV.B   R0H,#02H
00013C 910840           334         MOV.B   R0L,#040H
00013F 8935             335         MOV.W   R3,R5
000141 8924             336         MOV.W   R2,R4
000143 912800           337         MOV.B   R1L,#00H
                        338         CALL    _TransmitIIC
000146 C4rrrrrr        +338 ;       FCALL   _TransmitIIC
                        339 ; tvp6kdrv.c  130               }
                        341         BR      _4
00014A D5009A          +341         JMP.L   _4
00014A D5009A00        +341         JMP.L   _4
00014E                  342 _3:
                        343 ; tvp6kdrv.c  131               else
                        344 ; tvp6kdrv.c  132               {
                        345 ; tvp6kdrv.c  133                       buffer[0] = 0x3A;
00014E 92783A           347         MOV.B   [R7],#03AH
                        348 ; tvp6kdrv.c  134                       buffer[1] = 0x8F;
000151 9478018F         350         MOV.B   [R7+1],#08FH
                        351 ; tvp6kdrv.c  135                       TransmitIIC( TVP6K_IIC_address, 2, buffer, IIC_PTV);
000155 91A8rr           353         MOV.B   R5L,#SEG( __lc_bs )
000158 71BB             354         XOR.B   R5H,R5H
00015A 8947             355         MOV.W   R4,R7
00015C 912800           356         MOV.B   R1L,#00H
00015F 8935             357         MOV.W   R3,R5
000161 8924             358         MOV.W   R2,R4
000163 911802           359         MOV.B   R0H,#02H
000166 910840           360         MOV.B   R0L,#040H
                        361         CALL    _TransmitIIC
000169 C4rrrrrr        +361 ;       FCALL   _TransmitIIC
                        362 ; tvp6kdrv.c  136       
                        363 ; tvp6kdrv.c  137                       buffer[0] = 0x5A;
00016D 92785A           365         MOV.B   [R7],#05AH
                        366 ; tvp6kdrv.c  138                       buffer[1] = 0x00;
000170 B47001           368         MOV.B   [R7+1],#00H
                        369 ; tvp6kdrv.c  139                       buffer[2] = 0x12;               // was 0x01, 0x03
000173 94780212         371         MOV.B   [R7+2],#012H
                        372 ; tvp6kdrv.c  140                       buffer[3] = 0x85;               // was 0x6B, 0x6E
000177 94780385         374         MOV.B   [R7+3],#085H
                        375 ; tvp6kdrv.c  141                       buffer[4] = 0xC1;
00017B 947804C1         377         MOV.B   [R7+4],#0C1H
                        378 ; tvp6kdrv.c  142                       buffer[5] = 0xB8;
00017F 947805B8         380         MOV.B   [R7+5],#0B8H
                        381 ; tvp6kdrv.c  143                       buffer[6] = 0x30;               // was 0x2E
000183 94780630         383         MOV.B   [R7+6],#030H
                        384 ; tvp6kdrv.c  144                       buffer[7] = 0x20;
000187 94780720         386         MOV.B   [R7+7],#020H
                        387 ; tvp6kdrv.c  145                       buffer[8] = 0x41;
00018B 94780841         389         MOV.B   [R7+8],#041H
                        390 ; tvp6kdrv.c  146                       buffer[9] = 0x3C;               // was 0x38
00018F 9478093C         392         MOV.B   [R7+9],#03CH
                        393 ; tvp6kdrv.c  147                       buffer[10] = 0x1F;
000193 94780A1F         395         MOV.B   [R7+10],#01FH
                        396 ; tvp6kdrv.c  148                       buffer[11] = 0x7C;
000197 94780B7C         398         MOV.B   [R7+11],#07CH
                        399 ; tvp6kdrv.c  149                       buffer[12] = 0xF0;
00019B 94780CF0         401         MOV.B   [R7+12],#0F0H
                        402 ; tvp6kdrv.c  150                       buffer[13] = 0x21;
00019F 94780D21         404         MOV.B   [R7+13],#021H
                        405 ; tvp6kdrv.c  151                       TransmitIIC( TVP6K_IIC_address, 14, buffer, IIC_PTV);
0001A3 912800           407         MOV.B   R1L,#00H
0001A6 8935             408         MOV.W   R3,R5
0001A8 8924             409         MOV.W   R2,R4
XA assembler v2.0 r2                    SN00085795-037 (c) 1998 TASKING, Inc.
                                                                                                                            Page   7

ADDR   CODE            LINE SOURCELINE
0001AA 91180E           410         MOV.B   R0H,#0EH
0001AD 910840           411         MOV.B   R0L,#040H
                        412         CALL    _TransmitIIC
0001B0 C4rrrrrr        +412 ;       FCALL   _TransmitIIC
                        413 ; tvp6kdrv.c  152       
                        414 ; tvp6kdrv.c  153                       buffer[0] = 0x67;
0001B4 927867           416         MOV.B   [R7],#067H
                        417 ; tvp6kdrv.c  154                       buffer[1] = 0x00;
0001B7 B47001           419         MOV.B   [R7+1],#00H
                        420 ; tvp6kdrv.c  155                       buffer[2] = 0x00;
0001BA B47002           422         MOV.B   [R7+2],#00H
                        423 ; tvp6kdrv.c  156                       buffer[3] = 0x00;
0001BD B47003           425         MOV.B   [R7+3],#00H
                        426 ; tvp6kdrv.c  157                       buffer[4] = 0x00;
0001C0 B47004           428         MOV.B   [R7+4],#00H
                        429 ; tvp6kdrv.c  158                       buffer[5] = 0x11;
0001C3 94780511         431         MOV.B   [R7+5],#011H
                        432 ; tvp6kdrv.c  159                       buffer[6] = 0xA0;
0001C7 947806A0         434         MOV.B   [R7+6],#0A0H
                        435 ; tvp6kdrv.c  160                       buffer[7] = 0x00;
0001CB B47007           437         MOV.B   [R7+7],#00H
                        438 ; tvp6kdrv.c  161                       buffer[8] = 0x0A;
0001CE 9478080A         440         MOV.B   [R7+8],#0AH
                        441 ; tvp6kdrv.c  162                       buffer[9] = 0x01;
0001D2 B47109           443         MOV.B   [R7+9],#01H
                        444 ; tvp6kdrv.c  163                       buffer[10] = 0xC0;
0001D5 94780AC0         446         MOV.B   [R7+10],#0C0H
                        447 ; tvp6kdrv.c  164                       buffer[11] = 0x82;
0001D9 94780B82         449         MOV.B   [R7+11],#082H
                        450 ; tvp6kdrv.c  165                       buffer[12] = 0x46;
0001DD 94780C46         452         MOV.B   [R7+12],#046H
                        453 ; tvp6kdrv.c  166                       buffer[13] = 0x30;
0001E1 94780D30         455         MOV.B   [R7+13],#030H
0001E5 912800           456         MOV.B   R1L,#00H
0001E8 8935             457         MOV.W   R3,R5
0001EA 8924             458         MOV.W   R2,R4
0001EC 910840           459         MOV.B   R0L,#040H
                        460 ; tvp6kdrv.c  167       
                        461 ; tvp6kdrv.c  168                       TransmitIIC( TVP6K_IIC_address, 14, buffer, IIC_PTV);
0001EF 91180E           463         MOV.B   R0H,#0EH
                        464         CALL    _TransmitIIC
0001F2 C4rrrrrr        +464 ;       FCALL   _TransmitIIC
                        465 ; tvp6kdrv.c  169       
                        466 ; tvp6kdrv.c  170                       buffer[0] = 0x77;
0001F6 927877           468         MOV.B   [R7],#077H
                        469 ; tvp6kdrv.c  171                       buffer[1] = 0x82;
0001F9 94780182         471         MOV.B   [R7+1],#082H
                        472 ; tvp6kdrv.c  172                       buffer[2] = 0x46;
0001FD 94780246         474         MOV.B   [R7+2],#046H
                        475 ; tvp6kdrv.c  173                       buffer[3] = 0x30;
000201 94780330         477         MOV.B   [R7+3],#030H
                        478 ; tvp6kdrv.c  174                       buffer[4] = 0x0C;
000205 9478040C         480         MOV.B   [R7+4],#0CH
                        481 ; tvp6kdrv.c  175                       buffer[5] = 0x11;
000209 94780511         483         MOV.B   [R7+5],#011H
                        484 ; tvp6kdrv.c  176                       buffer[6] = 0x03;
00020D B47306           486         MOV.B   [R7+6],#03H
                        487 ; tvp6kdrv.c  177                       buffer[7] = 0x22;
000210 94780722         489         MOV.B   [R7+7],#022H
                        490 ; tvp6kdrv.c  178                       buffer[8] = 0x0A;
000214 9478080A         492         MOV.B   [R7+8],#0AH
                        493 ; tvp6kdrv.c  179                       TransmitIIC( TVP6K_IIC_address, 9, buffer, IIC_PTV);
XA assembler v2.0 r2                    SN00085795-037 (c) 1998 TASKING, Inc.
                                                                                                                            Page   8

ADDR   CODE            LINE SOURCELINE
000218 911809           495         MOV.B   R0H,#09H
00021B 912800           496         MOV.B   R1L,#00H
00021E 8935             497         MOV.W   R3,R5
000220 8924             498         MOV.W   R2,R4
000222 910840           499         MOV.B   R0L,#040H
                        500         CALL    _TransmitIIC
000225 C4rrrrrr        +500 ;       FCALL   _TransmitIIC
                        501 ; tvp6kdrv.c  180       
                        502 ; tvp6kdrv.c  181                       buffer[0] = 0x90;
000229 927890           504         MOV.B   [R7],#090H
                        505 ; tvp6kdrv.c  182                       buffer[1] = 0x00;
00022C B47001           507         MOV.B   [R7+1],#00H
                        508 ; tvp6kdrv.c  183                       buffer[2] = 0x00;
00022F B47002           510         MOV.B   [R7+2],#00H
                        511 ; tvp6kdrv.c  184                       buffer[3] = 0x00;
000232 B47003           513         MOV.B   [R7+3],#00H
                        514 ; tvp6kdrv.c  185                       buffer[4] = 0x00;
000235 B47004           516         MOV.B   [R7+4],#00H
                        517 ; tvp6kdrv.c  186                       buffer[5] = 0x00;
000238 B47005           519         MOV.B   [R7+5],#00H
                        520 ; tvp6kdrv.c  187                       buffer[6] = 0x00;
00023B B47006           522         MOV.B   [R7+6],#00H
                        523 ; tvp6kdrv.c  188                       buffer[7] = 0x00;
00023E B47007           525         MOV.B   [R7+7],#00H
                        526 ; tvp6kdrv.c  189                       buffer[8] = 0x00;
000241 B47008           528         MOV.B   [R7+8],#00H
                        529 ; tvp6kdrv.c  190                       buffer[9] = 0x00;
000244 B47009           531         MOV.B   [R7+9],#00H
                        532 ; tvp6kdrv.c  191                       buffer[10] = 0x00;
000247 B4700A           534         MOV.B   [R7+10],#00H
                        535 ; tvp6kdrv.c  192                       buffer[11] = 0x00;
00024A B4700B           537         MOV.B   [R7+11],#00H
                        538 ; tvp6kdrv.c  193                       buffer[12] = 0x00;
00024D B4700C           540         MOV.B   [R7+12],#00H
                        541 ; tvp6kdrv.c  194                       buffer[13] = 0x00;
000250 B4700D           543         MOV.B   [R7+13],#00H
                        544 ; tvp6kdrv.c  195                       buffer[14] = 0x00;
000253 B4700E           546         MOV.B   [R7+14],#00H
                        547 ; tvp6kdrv.c  196       
                        548 ; tvp6kdrv.c  197                       TransmitIIC( TVP6K_IIC_address, 15, buffer, IIC_PTV);
000256 912800           550         MOV.B   R1L,#00H
000259 8935             551         MOV.W   R3,R5
00025B 8924             552         MOV.W   R2,R4
00025D 91180F           553         MOV.B   R0H,#0FH
000260 910840           554         MOV.B   R0L,#040H
                        555         CALL    _TransmitIIC
000263 C4rrrrrr        +555 ;       FCALL   _TransmitIIC
                        556 ; tvp6kdrv.c  198       
                        557 ; tvp6kdrv.c  199                       buffer[0] = 0x3A;
000267 92783A           559         MOV.B   [R7],#03AH
                        560 ; tvp6kdrv.c  200                       buffer[1] = 0x0F;
00026A 9478010F         562         MOV.B   [R7+1],#0FH
                        563 ; tvp6kdrv.c  201                       TransmitIIC( TVP6K_IIC_address, 2, buffer, IIC_PTV);
00026E 911802           565         MOV.B   R0H,#02H
000271 910840           566         MOV.B   R0L,#040H
000274 8935             567         MOV.W   R3,R5
000276 8924             568         MOV.W   R2,R4
000278 912800           569         MOV.B   R1L,#00H
                        570         CALL    _TransmitIIC
00027B C4rrrrrr        +570 ;       FCALL   _TransmitIIC
                        571 ; tvp6kdrv.c  202               }
000280                  573 _4:
XA assembler v2.0 r2                    SN00085795-037 (c) 1998 TASKING, Inc.
                                                                                                                            Page   9

ADDR   CODE            LINE SOURCELINE
                        574 ; tvp6kdrv.c  203       
                        575 ; tvp6kdrv.c  204               return( OK);
000280 9908FFFF         577         MOV.W   R0,#0FFFFH
                        578 ; tvp6kdrv.c  205       }
000284 99700010         580         ADD.W   R7,#010H
000288 2F30             582         POP.W   R4, R5
00028A D680             584         RET
                        592         EXTRN   HCODE(_TransmitIIC)
                        593         EXTRN   IDATA(__lc_bs)
                        594         EXTRN   DATA(__lc_ub_xvwbuffer)
                        595         EXTRN   DATA(__lc_ue_xvwbuffer)
                        596         CALLS   'tvp6k_init', 'tvp6k_system'
                        597         CALLS   'tvp6k_system', 'TransmitIIC'

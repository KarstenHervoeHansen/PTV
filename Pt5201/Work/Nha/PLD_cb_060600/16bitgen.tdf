SUBDESIGN 16bitgen
(
	clk,mres,ctsin:		INPUT;
	cts:				OUTPUT;
)
VARIABLE
	d[4..0]:	                DFF;

BEGIN
	d[4..0].clk	    = clk;  %Her bruges 27 MHz som clock%
	d[4..0].clrn	= mres; %Mres clearer tæller, når den er 0%
							%holder cts høj så controller bliver 16 bit %

	IF mres==1 & !(d[]==31) THEN 
	  d[4..0].d = d[4..0].q+1;
     ELSE
	  d[].d = d[].q; 
	END IF;

	cts = !(mres & d4 & d3 & d2 & d1 & d0) # ctsin;
END;


/* tickdrv.c - model TICK driver task for 8XC251 using software interrupt 7 */

/*
 *   RTXCio    
 *   Copyright (c) 
 *   Embedded System Products, Inc.
 *   ALL RIGHTS RESERVED
*/

#include "rtxcapi.h"

long ticktimercnt = 0;

FRAME ks_stk * ticktimer( FRAME ks_stk * frame)
{
   SWR7 = 0;
   ticktimercnt++;
   KS_ISRtick();
   return(KS_ISRexit(frame, 0 ));
}

/* initialization code for tick timer */
void ticktimer_start(void)
{
   SWE |= 0x40;    // SWE7 = 1
}

/* end of tickdrv.c */

SUBDESIGN resetgen
(
	mres,clk:				INPUT;
	dlyreset:				OUTPUT;
)
VARIABLE
	d[1..0]:	                DFF;

BEGIN
	d[1..0].clk	    = clk;  %Her bruges hint som clock%
	d[1..0].clrn	= mres; %Mres clearer tæller, når den er 0%

	IF mres==1 & !(d[]==3) THEN 
	  d[1..0].d = d[1..0].q+1;
     ELSE
	  d[].d = d[].q; 
	END IF;

	dlyreset = mres & d1 & d0 & clk;
END;


XA assembler v2.0 r2                    SN00085795-037 (c) 1998 TASKING, Inc.
                                                                                                                            Page   1
C:\cxa\examples\sieve\sieve.src
ADDR   CODE            LINE SOURCELINE
                          2 ; options: -IC:\cxa\include -Ms -So -w -A1 -O2 -DMEASURE_TIME -DPRINT -g
                          4 $ZPAGE
                          5         NAME    SIEVE
000000                   35 SIEVE_PR        SEGMENT CODE
000000                   36         RSEG    SIEVE_PR
                         37         ALIGN   1
                         39         PUBLIC  _main
000000                   40 _main:
000000 9908rrrr          63         MOV.W   R0,#_3
000004 0F01              64         PUSH.W  R0
000006 C5rrrr            66         CALL    _printf
000009 A972              67         ADDS.W  R7,#02H
00000B B900              70         MOV.W   R0,#00H
00000D C5rrrr            71         CALL    _time
000010 9918rrrr          72         MOV.W   R1,#_Begin_Time
000014 8A09              73         MOV.W   [R1],R0
000016 B951              75         MOV.W   R5,#01H
000018                   77 _6:
000018 B940              79         MOV.W   R4,#00H
00001A 9908rrrr          83         MOV.W   R0,#_flags
00001E                   86 _7:
00001E B201              88         MOV.B   [R0],#01H
000020 A901              90         ADDS.W  R0,#01H
000022 9904rrrr          93         CMP.W   R0,#_flags+8191
000026 F1FB              94         BCS     _7
000028 B930              96         MOV.W   R3,#00H
00002A 9928rrrr          97         MOV.W   R2,#_flags
00002E                   99 _8:
00002E 8202             101         MOV.B   R0L,[R2]
000030 F310             103         BEQ     _11
000032 8913             105         MOV.W   R1,R3
000034 0911             106         ADD.W   R1,R1
000036 A913             107         ADDS.W  R1,#03H
000038 8963             110         MOV.W   R6,R3
00003A 0961             111         ADD.W   R6,R1
00003C 8906             112         MOV.W   R0,R6
00003E 99641FFE         114         CMP.W   R6,#01FFEH
000042 FC06             115         BGT     _10
000042 FC06             115         BGT     _10
000044                  116 _9:
000044 B500rrrr         118         MOV.B   [R0+_flags],#00H
000048 0901             120         ADD.W   R0,R1
00004A 99041FFE         123         CMP.W   R0,#01FFEH
00004E FDFA             124         BLE     _9
000050                  126 _10:
000050 A941             128         ADDS.W  R4,#01H
000052                  132 _11:
000052 A921             134         ADDS.W  R2,#01H
000054 A931             137         ADDS.W  R3,#01H
000056 9924rrrr         138         CMP.W   R2,#_flags+8191
00005A F1E9             139         BCS     _8
00005C A951             141         ADDS.W  R5,#01H
00005E 9954000A         144         CMP.W   R5,#0AH
000062 FDDA             145         BLE     _6
000064 B900             147         MOV.W   R0,#00H
000066 C5rrrr           148         CALL    _time
000069 9918rrrr         152         MOV.W   R1,#_End_Time
00006D 8A09             153         MOV.W   [R1],R0
00006F 0F10             155         PUSH.W  R4
000071 9908rrrr         158         MOV.W   R0,#_4
000075 0F01             159         PUSH.W  R0
000077 C5rrrr           161         CALL    _printf
XA assembler v2.0 r2                    SN00085795-037 (c) 1998 TASKING, Inc.
                                                                                                                            Page   2

ADDR   CODE            LINE SOURCELINE
00007A A974             162         ADDS.W  R7,#04H
00007C 9908rrrr         165         MOV.W   R0,#_End_Time
000080 8A00             166         MOV.W   R0,[R0]
000082 9918rrrr         167         MOV.W   R1,#_Begin_Time
000086 8A11             168         MOV.W   R1,[R1]
000088 2901             169         SUB.W   R0,R1
00008A 0F01             170         PUSH.W  R0
00008C 9908rrrr         172         MOV.W   R0,#_5
000090 0F01             173         PUSH.W  R0
000092 C5rrrr           175         CALL    _printf
000095 A974             176         ADDS.W  R7,#04H
000097 D680             179         RET
                        188         EXTRN   CODE(_time)
000000                  192 SIEVE_CLR_FA    SEGMENT IDATA CLEAR
000000                  193         RSEG    SIEVE_CLR_FA
                        194         PUBLIC  _flags
000000                  195 _flags: DS      8191
   |  RESERVED             
001FFE
000000                  196 SIEVE_INI_FA    SEGMENT IDATA INIT
000000                  197         RSEG    SIEVE_INI_FA
000000 2564207072696D   198 _4:     DB      025H,064H,020H,070H,072H,069H,06DH,065H,073H,02EH,00AH,000H
       65732E0A00           
001FFF                  201         RSEG    SIEVE_CLR_FA
                        202         PUBLIC  _End_Time
001FFF RESERVED         203         ALIGN   1
001FFF
002000                  204 _End_Time:      DS      2
   |  RESERVED             
002001
00000C                  205         RSEG    SIEVE_INI_FA
00000C 31302069746572   206 _3:     DB      031H,030H,020H,069H,074H,065H,072H,061H,074H,069H,06FH,06EH
       6174696F6E           
000018 730A00           207         DB      073H,00AH,000H
                        210         EXTRN   CODE(_printf)
00001B 54696D653A2025   211 _5:     DB      054H,069H,06DH,065H,03AH,020H,025H,064H,020H,06DH,073H,065H
       64206D7365           
000027 632E0A00         212         DB      063H,02EH,00AH,000H
002002                  215         RSEG    SIEVE_CLR_FA
                        216         PUBLIC  _Begin_Time
                        217         ALIGN   1
002002                  218 _Begin_Time:    DS      2
   |  RESERVED             
002003
                        219         EXTRN   CODE(__START)
                        220         EXTRN   DATA(__lc_ub_xvwbuffer)
                        221         EXTRN   DATA(__lc_ue_xvwbuffer)
                        222         CALLS   'main', 'printf'
                        223         CALLS   'main', 'time'
                        224         CALLS   'main', 'printf'
